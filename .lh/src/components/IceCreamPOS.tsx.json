{
    "sourceFile": "src/components/IceCreamPOS.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1761997897644,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1761997897644,
            "name": "Commit-0",
            "content": "import React, { useState } from 'react';\nimport { IceCreamProduct, OrderItem } from '../types/IceCream';\nimport { iceCreamProducts } from '../data/iceCreamData';\nimport ProductGrid from './ProductGrid';\nimport OrderSummary from './OrderSummary';\nimport './IceCreamPOS.css';\n\nconst IceCreamPOS: React.FC = () => {\n  const [orderItems, setOrderItems] = useState<OrderItem[]>([]);\n  const [selectedCategory, setSelectedCategory] = useState<string>('all');\n\n  const categories = [\n    { id: 'all', name: 'ì „ì²´' },\n    { id: 'cone', name: 'ì½˜ ì•„ì´ìŠ¤í¬ë¦¼' },\n    { id: 'cup', name: 'ì»µ ì•„ì´ìŠ¤í¬ë¦¼' },\n    { id: 'stick', name: 'ë§‰ëŒ€ ì•„ì´ìŠ¤í¬ë¦¼' },\n    { id: 'special', name: 'íŠ¹ë³„ ë©”ë‰´' }\n  ];\n\n  const filteredProducts = selectedCategory === 'all' \n    ? iceCreamProducts \n    : iceCreamProducts.filter(product => product.category === selectedCategory);\n\n  const addToOrder = (product: IceCreamProduct) => {\n    setOrderItems(prevItems => {\n      const existingItem = prevItems.find(item => item.product.id === product.id);\n      if (existingItem) {\n        return prevItems.map(item =>\n          item.product.id === product.id\n            ? { ...item, quantity: item.quantity + 1 }\n            : item\n        );\n      } else {\n        return [...prevItems, { product, quantity: 1 }];\n      }\n    });\n  };\n\n  const removeFromOrder = (productId: number) => {\n    setOrderItems(prevItems => {\n      return prevItems.reduce((acc, item) => {\n        if (item.product.id === productId) {\n          if (item.quantity > 1) {\n            acc.push({ ...item, quantity: item.quantity - 1 });\n          }\n          // quantityê°€ 1ì´ë©´ ì•„ì˜ˆ ì œê±° (pushí•˜ì§€ ì•ŠìŒ)\n        } else {\n          acc.push(item);\n        }\n        return acc;\n      }, [] as OrderItem[]);\n    });\n  };\n\n  const clearOrder = () => {\n    setOrderItems([]);\n  };\n\n  const getTotalPrice = () => {\n    return orderItems.reduce((total, item) => total + (item.product.price * item.quantity), 0);\n  };\n\n  return (\n    <div className=\"ice-cream-pos\">\n      <header className=\"pos-header\">\n        <h1>ğŸ¦ Sweet Dreams ì•„ì´ìŠ¤í¬ë¦¼</h1>\n        <p>ë§›ìˆëŠ” ì•„ì´ìŠ¤í¬ë¦¼ì„ ì„ íƒí•˜ì„¸ìš”!</p>\n      </header>\n\n      <div className=\"pos-content\">\n        <div className=\"products-section\">\n          <div className=\"category-tabs\">\n            {categories.map(category => (\n              <button\n                key={category.id}\n                className={`category-tab ${selectedCategory === category.id ? 'active' : ''}`}\n                onClick={() => setSelectedCategory(category.id)}\n              >\n                {category.name}\n              </button>\n            ))}\n          </div>\n\n          <ProductGrid \n            products={filteredProducts} \n            onProductClick={addToOrder}\n          />\n        </div>\n\n        <div className=\"order-section\">\n          <OrderSummary\n            orderItems={orderItems}\n            totalPrice={getTotalPrice()}\n            onRemoveItem={removeFromOrder}\n            onClearOrder={clearOrder}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default IceCreamPOS;"
        }
    ]
}